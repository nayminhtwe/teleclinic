(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"0130":function(t,a,e){},"812a":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-header",{staticClass:"bg-grey-2 text-red",attrs:{elevated:""}},[e("q-toolbar",[e("div",{staticClass:"col-1"},["/"!==t.$route.fullPath?e("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:"",icon:"west"},on:{click:function(a){return t.$router.go(-1)}}}):t._e()],1),e("div",{staticClass:"col-10"},[e("div",{staticClass:"absolute-center"},[e("q-toolbar-title",{staticClass:"text-red"},[t._v("\n          EZ Care\n        ")])],1)])]),e("q-toolbar",{staticClass:"q-pa-md",attrs:{inset:""}})],1)},o=[],i={data(){return{}}},r=i,c=e("2877"),n=e("e359"),l=e("65c6"),d=e("9c40"),p=e("6ac5"),u=e("cb32"),h=e("eebe"),m=e.n(h),f=Object(c["a"])(r,s,o,!1,null,null,null);a["a"]=f.exports;m()(f,"components",{QHeader:n["a"],QToolbar:l["a"],QBtn:d["a"],QToolbarTitle:p["a"],QAvatar:u["a"]})},d8f5:function(t,a,e){"use strict";e("0130")},faac:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("profile-header"),e("div",{staticClass:"my-wallet"},[t._v("Wallet")]),e("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[e("q-card",{staticClass:"my-card full-width",attrs:{bordered:""}},[e("div",{staticClass:"row col-12"},[e("div",{staticClass:"col-6"},[e("span",{staticClass:"text-subtitle2 e-z-care-m-m"},[t._v("EZ Care MM")])])]),e("q-card-section",{staticClass:"text-center"},[e("i",{staticClass:"fab fa-btc",staticStyle:{"font-size":"70px",width:"163px",height:"50px"}})]),e("div",{staticClass:"row col-12"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"current-balance"},[t._v("Current Balance (MMK)")])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"text-weight-bolder wallet"},[t._v(t._s(t.formatNumber(t.patient_wallet.wallet)))])])])],1),e("q-card",{staticClass:"topup full-width",attrs:{bordered:""}},[e("q-card-section",[e("div",{staticClass:"text-center top-up-my-balance",on:{click:function(a){return t.$router.push("transfer_consultation_fee")}}},[t._v("Transfer Consultation Fees")])])],1),e("q-card",{staticClass:"topup full-width",attrs:{bordered:""}},[e("q-card-section",[e("div",{staticClass:"text-center top-up-my-balance",on:{click:t.topup}},[t._v("Top up my balance")])])],1),e("span",{staticClass:"history"},[t._v("Transaction History")]),e("div",{staticClass:"row col-12 full-width"},t._l(t.patient_transaction_history,(function(a,s){return e("q-list",{key:s,staticStyle:{width:"100%"}},[e("q-item",{staticStyle:{height:"20px"}},[e("q-item-section",[e("div",{staticClass:"row col-12",staticStyle:{"text-size":"20px"}},[e("div",{staticClass:"col-6"},[e("div",[t._v(t._s(s+1)+". "+t._s(a.doctor_info.name))])]),e("div",{staticClass:"col-6 total-amount"},[e("div",[t._v(t._s(a.total_amount)+" MMK")])])])])],1)],1)})),1)],1)],1)},o=[],i=e("ded3"),r=e.n(i),c=(e("5319"),e("2f62")),n=e("812a"),l=e("436b"),d=e("2a19"),p={name:"PatientWallet",components:{ProfileHeader:n["a"]},data(){return{patient_wallet:[],patient_transaction_history:[]}},computed:r()({},Object(c["b"])({getDoctorProfile:"doctor/getDoctorProfile",getDoctorToken:"doctor/getDoctorToken"})),async created(){this.getDoctorProfile.app_user_id||await this.$store.dispatch("doctor/profile"),this.$api.defaults.headers.Authorization=`Bearer ${this.getDoctorToken}`,await this.$api.get("patient_wallet").then((t=>{this.patient_wallet=t.data})),this.$api.defaults.headers.Authorization=`Bearer ${this.getDoctorToken}`,await this.$api.get("patient_transaction_history").then((t=>{this.patient_transaction_history=t.data.data,console.log(this.patient_transaction_history)}))},methods:{formatNumber(t){const a=t/1;return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},topup(){l["a"].create({title:"Topup",message:"How much will you topup?(Please input number only)",prompt:{model:"",isValid:t=>t!==String,type:"number",required:!0},cancel:!0,persistent:!0}).onOk((t=>{console.log(">>>> OK, received",t),console.log(t),this.$api.defaults.headers.Authorization=`Bearer ${this.getDoctorToken}`;const a=new FormData;a.append("amount",t),this.$api.post("topup_patient",a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{"0"===t.data.error_code?(console.log(t.data.message),d["a"].create(t.data.message)):d["a"].create(t.data.message)})).catch((t=>{console.log(t.response.data),d["a"].create(t.response.data.message)}))})).onCancel((()=>{console.log(">>>> Cancel")})).onDismiss((()=>{}))}}},u=p,h=(e("d8f5"),e("2877")),m=e("9989"),f=e("f09f"),_=e("a370"),C=e("eb85"),v=e("1c1c"),b=e("66e5"),g=e("4074"),w=e("eebe"),y=e.n(w),q=Object(h["a"])(u,s,o,!1,null,"2320a84a",null);a["default"]=q.exports;y()(q,"components",{QPage:m["a"],QCard:f["a"],QCardSection:_["a"],QSeparator:C["a"],QList:v["a"],QItem:b["a"],QItemSection:g["a"]})}}]);