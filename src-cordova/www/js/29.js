(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{"812a":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-header",{staticClass:"bg-grey-2 text-red",attrs:{elevated:""}},[a("q-toolbar",[a("div",{staticClass:"col-1"},["/"!==e.$route.fullPath?a("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:"",icon:"west"},on:{click:function(t){return e.$router.go(-1)}}}):e._e()],1),a("div",{staticClass:"col-10"},[a("div",{staticClass:"absolute-center"},[a("q-toolbar-title",{staticClass:"text-red"},[e._v("\n          EZ Care\n        ")])],1)])]),a("q-toolbar",{staticClass:"q-pa-md",attrs:{inset:""}})],1)},l=[],s={data(){return{}}},o=s,n=a("2877"),r=a("e359"),c=a("65c6"),d=a("9c40"),u=a("6ac5"),p=a("cb32"),h=a("eebe"),m=a.n(h),b=Object(n["a"])(o,i,l,!1,null,null,null);t["a"]=b.exports;m()(b,"components",{QHeader:r["a"],QToolbar:c["a"],QBtn:d["a"],QToolbarTitle:u["a"],QAvatar:p["a"]})},"81e72":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticStyle:{overflow:"hidden"}},[i("profile-header"),i("div",{staticClass:"q-pa-xs row q-gutter-md"},[e.banner?i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""},scopedSlots:e._u([{key:"action",fn:function(){return[i("q-btn",{attrs:{flat:"",color:"white",icon:"error"},on:{click:function(t){e.banner=!1}}})]},proxy:!0}],null,!1,324282196)},[e._v("\n      "+e._s(e.message)+"\n      ")]):e._e(),i("div",{staticClass:"col-lg-4 col-12"},[i("q-input",{attrs:{label:"Name","label-color":"black",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-select",{attrs:{label:"Your Charity Service","label-color":"black",options:e.charties,rules:[function(e){return!!e||"Field is required"}]},model:{value:e.charity,callback:function(t){e.charity=t},expression:"charity"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-select",{attrs:{label:"Your Charity Region","label-color":"black",options:e.regions,"option-label":function(e){return null===e?null:e.Region},rules:[function(e){return!!e||"Field is required"}]},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-select",{attrs:{label:"Your Charity Township","label-color":"black",options:e.region_townships,"option-label":function(e){return null===e?null:e.Township},rules:[function(e){return!!e||"Field is required"}]},model:{value:e.township,callback:function(t){e.township=t},expression:"township"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-input",{attrs:{label:"Address","label-color":"black",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-input",{attrs:{label:"Contact Phone No.","label-color":"black",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-input",{attrs:{label:"Email","label-color":"black",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-input",{attrs:{label:"Available Time","label-color":"black",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("q-input",{attrs:{label:"Comment","label-color":"black"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1),i("div",{staticClass:"col-12 offset-6 q-mt-xl"},[i("q-file",{attrs:{borderless:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("img",{staticStyle:{width:"72px"},attrs:{src:a("f3ed")},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0}]),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),i("div",{staticClass:"col-lg-4 col-12"},[i("div",{staticClass:"q-py-md q-gutter-sm"},[i("q-btn",{staticClass:"text-white full-width",staticStyle:{width:"250px"},attrs:{color:"red",rounded:""},on:{click:e.submit}},[i("div",{staticClass:"ellipsis"},[e._v("\n            "+e._s(e.$t("Register"))+"\n          ")])])],1)])],1)],1)},l=[],s=a("ded3"),o=a.n(s),n=a("2f62"),r=a("812a"),c={name:"AddCharity",components:{ProfileHeader:r["a"]},data(){return{banner:!1,name:"",charity:"",address:"",phone:"",email:"",time:"",comment:"",file:"",charties:[{label:"Ambulance",value:"Ambulance"},{label:"Pharmacy",value:"Pharmacy"},{label:"Oxygen",value:"Lab"},{label:"Clinic",value:"Clinic"}],region:"",regions:[],township:"",townships:[],region_townships:[]}},async created(){this.getDoctorProfile.app_user_id||await this.$store.dispatch("doctor/profile"),await this.$api.get("regions").then((e=>{this.regions=e.data.data})),await this.$api.get("townships").then((e=>{this.townships=e.data.data}))},watch:{region:function(e){this.township="",this.region_townships=this.townships.filter((t=>t.region_id===e.id))}},computed:o()({},Object(n["b"])({getDoctorProfile:"doctor/getDoctorProfile",getDoctorToken:"doctor/getDoctorToken"})),methods:{async submit(){const e=new FormData;e.append("name",this.name),e.append("charity_service",this.charity.value.toLowerCase()),e.append("region_id",this.region.id),e.append("township_id",this.township.id),e.append("address",this.address),e.append("contact_number",this.phone),e.append("email",this.email),e.append("available_time",this.time),e.append("comment",this.comment),e.append("profile_image",this.file),this.$api.defaults.headers.Authorization=`Bearer ${this.getDoctorToken}`,this.$api.post(this.charity.value.toLowerCase(),e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{"0"===e.data.error_code&&(this.$q.notify({type:"positive",message:"Your registration is successful"}),this.$router.push("/"))})).catch((e=>{console.log(e.response.data),this.$q.notify({type:"negative",message:e.response.data.message})}))}}},d=c,u=a("2877"),p=a("9989"),h=a("54e1"),m=a("9c40"),b=a("27f9"),f=a("ddd8"),g=a("7d53"),v=a("eebe"),w=a.n(v),q=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=q.exports;w()(q,"components",{QPage:p["a"],QBanner:h["a"],QBtn:m["a"],QInput:b["a"],QSelect:f["a"],QFile:g["a"]})},f3ed:function(e,t,a){e.exports=a.p+"img/profile_upload.jpg"}}]);